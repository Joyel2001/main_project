<!-- Add the following CSS to your HTML or link to an external stylesheet -->
<style>
    .registration-form {
        max-width: 400px;
        margin: auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .form-group {
        margin-bottom: 20px;
    }

    label {
        display: block;
        margin-bottom: 8px;
    }

    input, select {
        width: 100%;
        padding: 10px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    button:hover {
        background-color: #45a049;
    }
    #closeButton {
        background-color: #e74c3c;
        color: #fff;
        padding: 12px 20px;
        text-decoration: none;
        display: inline-block;
        border-radius: 5px;
        margin-top: 20px;
        transition: background-color 0.3s ease;
    }

    #closeButton:hover {
        background-color: #c0392b;
    }
</style>

<!-- Your form HTML -->
<!-- Your HTML form -->
<!-- Your HTML form -->
<!-- Your HTML form -->
<form method="post" action="{% url 'registration_page' tender.id %}" class="registration-form" onsubmit="return validateForm()">
    <h1 style="text-align: center;">Tender Registeration</h1>
    {% csrf_token %}
    {% if messsage %}
  <div class="alert alert-warning">
    {{ messsage }}
  </div>
{% elif successs_message %}
  <div class="alert alert-success">
    {{ successs_message }}
  </div>
{% endif %}
    <div class="form-group">
        <label for="amount">Amount:</label>
        <input type="number" name="amount" id="amount" oninput="validateAmount()" required>
        <span id="amountError" class="error"></span>
    </div>
  
    <div class="form-group">
        <label for="license_number">License Number:</label>
        <input type="text" name="license_number" id="license_number" oninput="validateLicense()" required>
        <span id="licenseError" class="error"></span>
    </div>
  
    <div class="form-group">
        <label for="nature_of_business">Nature of Business:</label>
        <select name="nature_of_business" required>
            <option value="Waste Collection">Waste Collection</option>
            <option value="Waste Recycling">Waste Recycling</option>
            <option value="Waste Treatment">Waste Treatment</option>
            <option value="Waste Disposal">Waste Disposal</option>
            <option value="Hazardous Waste Management">Hazardous Waste Management</option>
            <option value="Organic Waste Management">Organic Waste Management</option>
            <option value="Medical Waste Management">Medical Waste Management</option>
        </select>
    </div>
  
    <div class="form-group">
        <label for="legal_entity_type">Legal Entity Type:</label>
        <select name="legal_entity_type" required>
            <option value="Private Limited">Private Limited</option>
            <option value="Public Limited">Public Limited</option>
            <option value="Proprietorship">Proprietorship</option>
        </select>
    </div>
  
    <!-- Additional fields, if any -->
    <!-- Add more form-group elements as needed -->

    <!-- Submit button with ID and initially disabled -->
    <button type="submit" class="register-button" id="submitButton" disabled>Register</button>
    <a href="{% url 'tender_list' %}" class="close-button">Close</a></form>

<!-- JavaScript for validation -->
<script>
    function validateAmount() {
        var amount = document.getElementById('amount').value;

        // Validate Amount
        if (amount < 25000) {
            document.getElementById('amountError').innerHTML = 'Amount must be greater than 25000';
            document.getElementById('submitButton').disabled = true;
        } else {
            document.getElementById('amountError').innerHTML = '';
            document.getElementById('submitButton').disabled = false;
        }
    }

    function validateLicense() {
        var licenseNumber = document.getElementById('license_number').value;
        var licenseRegex = /^[A-Z0-9]{10}$/;

        // Validate License Number
        if (!licenseRegex.test(licenseNumber)) {
            document.getElementById('licenseError').innerHTML = 'License number must be 10 characters with capital and number mixed';
            document.getElementById('submitButton').disabled = true;
        } else {
            document.getElementById('licenseError').innerHTML = '';
            document.getElementById('submitButton').disabled = false;
        }
    }

    function validateForm() {
        // Check if all required fields are filled
        var requiredFields = document.querySelectorAll('[required]');
        for (var i = 0; i < requiredFields.length; i++) {
            if (!requiredFields[i].value.trim()) {
                alert('Please fill in all the fields.');
                return false;
            }
        }

        // Run the validation functions for all fields
        validateAmount();
        validateLicense();

        // If any validation fails, prevent form submission
        return document.getElementById('submitButton').disabled === false;
    }
</script>

<!-- userlist/user_list.html -->

{% extends 'base.html' %}
{% load static %}
{% block content %}
                        
    <style>
        
    
table {
    width: 100%;
    border-collapse: collapse;
}

table, th, td {
    border: 1px solid #ccc;
}

th, td {
    padding: 10px;
    text-align: left;
}

thead {
    background-color: #f2f2f2;
}

tr:nth-child(even) {
    background-color: #f2f2f2;
}

tr:hover {
    background-color: #ddd;
}
</style>
</head>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Event Booking Details</title>
    <!-- Add any CSS styles or external CSS links here -->
</head>
<body>
    <div style="display: flex; align-items: center;">
        

        <form method="get">
            <label for="event" style="font-weight: bold;">Filter by Event:</label>
            <select id="event" name="event" style="padding: 5px; border: 1px solid #ccc; border-radius: 3px;">
                <option value="" style="font-style: italic;">All Events</option>
                {% for event in events %}
                    <option value="{{ event.name }}" {% if event.name == selected_event %}selected{% endif %}>
                        {{ event.name }}
                    </option>
                {% endfor %}
            </select>
            <button type="submit" style="padding: 5px 10px; background-color: #007bff; color: #fff; border: none; border-radius: 3px; cursor: pointer;">Filter</button>
        </form>
    </div>
    
    <br><br>

    {% if event_bookings %}
    <table>
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Event Name</th>
                <th>Event Category</th>
                <th>Attendees</th>
                <!-- Add other table headers as needed -->
            </tr>
        </thead>
        <tbody>
            {% for booking in event_bookings %}
                <tr>
                    <td>{{ booking.user.username }}</td>
                    <td>{{ booking.user.email }}</td>
                    <td>{{ booking.event.name }}</td>
                    <td>{{ booking.event.get_category_display }}</td> <!-- Display category name -->
                    <td>{{ booking.attendees }}</td>
                    <!-- Add other table cells as needed -->
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No events booked.</p>
    {% endif %}
</body>


</div>
</div>
</div>
</html>
{% endblock content %}
